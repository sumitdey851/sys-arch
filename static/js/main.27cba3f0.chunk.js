(this["webpackJsonpsys-arch"]=this["webpackJsonpsys-arch"]||[]).push([[0],{11:function(e,t,n){e.exports={ldio__lz3xjidm5iq:"LoadingSpinner_ldio__lz3xjidm5iq__34WkH",loadingio__spinner__ripple__wuu2m6pl23j:"LoadingSpinner_loadingio__spinner__ripple__wuu2m6pl23j__xOhIZ",centered:"LoadingSpinner_centered__ZFAQc"}},16:function(e,t,n){e.exports={header:"MainNavigation_header__8IeG6",logo:"MainNavigation_logo__2BbVI"}},35:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r=n(27),c=n.n(r),a=n(6),i=(n(35),n(2)),s=n(1),o=n.n(s),l=n(16),u=n.n(l),j=n(0),d=function(){return Object(j.jsxs)("header",{className:u.a.header,children:[Object(j.jsx)(a.b,{to:"/",children:Object(j.jsx)("div",{className:u.a.logo,children:"App Name"})}),Object(j.jsx)("nav",{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/auth",children:"Login"})}),Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/profile",children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{children:"Logout"})})]})})]})},h=function(e){return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(d,{}),Object(j.jsx)("main",{children:e.children})]})},b=n(7),p=n.n(b),x=n(10),O=n(12),_=n(8),m=n.n(_);var f=function(e){var t;return document.cookie.split(";").forEach((function(n){var r=n.split("=")[0].trim(),c=n.split("=")[1].trim();r===e&&(t=c)})),t},g=n(30),v=n.n(g),w=function(){var e=Object(x.a)(p.a.mark((function e(t,n,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Calling login API"),e.next=3,v()({method:"post",url:"https://sys-arch-security-layer.herokuapp.com/sysArch/api",data:{header:{appAuthToken:t,userAuthToken:""},params:{method:"post",requestType:"login",role:""},reqObj:{email:n,password:r}}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),k=w,y=function(){var e=Object(s.useState)(!0),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(""),a=Object(O.a)(c,2),i=a[0],o=a[1],l=Object(s.useState)({}),u=Object(O.a)(l,2),d=u[0],h=u[1],b=Object(s.useRef)(),_=Object(s.useRef)(),g=function(){var e=Object(x.a)(p.a.mark((function e(t){var r,c,a,i,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n){e.next=20;break}return r=b.current.value,c=_.current.value,e.prev=4,a=f("appAuthToken"),e.next=8,k(a,r,c);case 8:if("success"===(i=e.sent).status){e.next=11;break}throw new Error("Unauthorized");case 11:s=i.data.data,o(s.token),h(s.user),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),alert("Invalid Credentials");case 19:console.log(r,c);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return console.log(i),console.log(d),Object(j.jsxs)("section",{className:m.a.auth,children:[Object(j.jsx)("h1",{children:n?"Login":"Sign Up"}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:m.a.control,children:[Object(j.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(j.jsx)("input",{type:"email",id:"email",required:!0,ref:b})]}),Object(j.jsxs)("div",{className:m.a.control,children:[Object(j.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(j.jsx)("input",{type:"password",id:"password",required:!0,ref:_})]}),Object(j.jsxs)("div",{className:m.a.actions,children:[Object(j.jsx)("button",{onClick:g,children:n?"Login":"Create Account"}),Object(j.jsx)("button",{type:"button",className:m.a.toggle,onClick:function(){r((function(e){return!e}))},children:n?"Create new account":"Login with existing account"})]})]})]})},A=function(){return Object(j.jsx)(y,{})},N=n(11),L=n.n(N),F=function(){return Object(j.jsx)("div",{className:L.a.centered,children:Object(j.jsx)("div",{className:L.a.loadingio__spinner__ripple__wuu2m6pl23j,children:Object(j.jsxs)("div",{className:L.a.ldio__lz3xjidm5iq,children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})})})},S=o.a.lazy((function(){return n.e(4).then(n.bind(null,69))})),q=o.a.lazy((function(){return n.e(3).then(n.bind(null,70))}));var z=function(){return Object(j.jsx)(h,{children:Object(j.jsx)(s.Suspense,{fallback:Object(j.jsx)(F,{}),children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",exact:!0,children:Object(j.jsx)(S,{})}),Object(j.jsx)(i.a,{path:"/auth",children:Object(j.jsx)(A,{})}),Object(j.jsx)(i.a,{path:"/profile",children:Object(j.jsx)(q,{})})]})})})};c.a.render(Object(j.jsx)(a.a,{children:Object(j.jsx)(z,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={auth:"AuthForm_auth__ip2Lc",control:"AuthForm_control__2xxG6",actions:"AuthForm_actions__2A1AG",toggle:"AuthForm_toggle__3GRow"}}},[[65,1,2]]]);
//# sourceMappingURL=main.27cba3f0.chunk.js.map